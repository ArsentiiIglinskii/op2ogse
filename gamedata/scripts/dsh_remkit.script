-- -*- mode: lua; coding: windows-1251-dos -*-

function attach( sm )
  sm:subscribe({ signal = "on_use",  fun = this.on_use })
end


function on_use( obj, sobj )
  if not sobj then return end
  local id   = obj:id()
  local sect = obj:section()
  if sect == "repair_item_weapon" or sect == "repair_item_outfit" then
    remkit_main.call_menu_repair_kit( sect )
    return true
  end
end
