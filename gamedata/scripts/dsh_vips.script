-- -*- mode: lua; coding: windows-1251-dos -*-
local vip_npc = {
  [ "esc_wolf" ] = true, -- Волк
}

function attach( sm )
  sm:subscribe({ signal = "on_npc_before_hit", fun = this.on_npc_before_hit })
end


function on_npc_before_hit( obj, hit_data, p_s_hit, p_ignore_flags )
  if vip_npc[ obj:name() ] then
    write_memory_float( 0, p_s_hit, hit_offset.power )
  end
end
